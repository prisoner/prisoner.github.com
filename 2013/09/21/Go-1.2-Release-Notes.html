<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <title>Go 1.2 Release Notes</title>
  
    <meta name="author" content="Rojazz1999">
    <link type="application/rss+xml" rel="alternate" title="CODE4FUN posts" href="/rss.xml">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/assets/simple/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/simple/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">


  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>
    <header class="header">
      CODE4FUN
    </header>
    <nav>
      
        


  <a href="/">首页</a>


      
        


  <a href="/archive">文章</a>


      
    </nav>
    <article class="main">
        <header class="title">
Go 1.2 Release Notes
</header>
<article class="content">
<p><a href="http://tip.golang.org/doc/go1.2">Go 1.2 Release Notes</a></p>

<h3>nil的使用</h3>

<p>在Go 1.0中, 以下代码</p>

<pre><code class="go">type T struct {
    X [1&lt;&lt;24]byte
    Field int32
}

func main() {
    var x *T
    ...
}
</code></pre>

<p><code>x.Field</code>将会访问<code>1&lt;&lt;24</code>指向的内存地址. 但是在Go 1.2中将会抛出<code>run-time panic</code></p>

<h3>允许设置slice容量的新切片语法</h3>

<pre><code class="go">var array [10]int
slice = array[2:4:6]
</code></pre>

<p>slice的容量为6.</p>

<h3>godoc和vet移动到go.tools</h3>

<h3>gccgo的状态</h3>

<p>将来GCC4.9能包含完整的Go1.2. 目前的GCC4.8.2包含Go1.1.2.</p>

<h3>cgo的变化</h3>

<p>支持C++语法, 但是只支持C的导入符号. 详情参<a href="http://tip.golang.org/cmd/cgo/">http://tip.golang.org/cmd/cgo/</a></p>

<h3>支持测试覆盖率</h3>

<p>通过安装<code>go get code.google.com/p/go.tools/cmd/cover</code>, 可以获得一个支持测试覆盖率的工具.
使用:
<code>shell
$ go test -cover fmt
ok      fmt 0.060s  coverage: 91.4% of statements
</code></p>

<h3>删除go doc命令</h3>

<p>godoc依然可以使用</p>

<h3>go命令的变化</h3>

<p><code>go get</code>增加<code>-t</code>参数, 用于下载包的测试用例.</p>

<h3>性能优化</h3>

<ul>
<li>compress/bzip2: 30%的性能提升</li>
<li>crypto/des: 5倍的性能提升</li>
<li>encoding/json: encoding 30% 的性能提升</li>
<li>windows和BSD下, 网络和runtime的深度集成, 30% 的性能提升.</li>
</ul>

<h3>标准库的变化</h3>

<ul>
<li>encoding: 新包, 提供通用的encoding接口</li>
<li>fmt: 引入参数索引支持</li>
</ul>

<p>参考资料:</p>

<ul>
<li><a href="http://my.oschina.net/chai2010/blog/160143">Go1.2新功能预览</a></li>
<li><a href="http://mikespook.com/2013/08/%E7%BF%BB%E8%AF%91go-tip%EF%BC%882013-08-23%EF%BC%89%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%8F%98%E5%8C%96/">翻译Go tip带来的变化</a></li>
</ul>

</article>
    </article>
    <footer>
      Copyright &copy; 2014 Rojazz1999 &#8226; <a href='https://plus.google.com/u/0/101202661005324839860?rel=author' rel='me'>Google+</a> &#8226; Hosted by <a href='http://github.com/prisoner/prisoner.github.com/' target='_blank'>GitHub</a> &#8226; powered by <a href='https://github.com/wendal/gor'>gor</a>
    </footer>
    
<script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>

  </body>
</html>
